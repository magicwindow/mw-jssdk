!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="./dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=r(a),s=n(2),c=r(s),f=n(10),l=r(f),d=n(13),p=r(d),h=n(12),v=r(h),m=n(3),y=r(m);n(19);var g,w=[],k=function(){function e(){o(this,e),this.version="2.0",this.device=y["default"],y["default"].appVersion=this.version}return i(e,[{key:"init",value:function(e){var t=this,n=new l["default"];for(var r in e)c["default"].constant(r,e[r]);g||(n.load().then(function(e){t.onReady(function(){new p["default"](e.data)})}),g=!0)}},{key:"setPhoneNumber",value:function(e){v["default"].setPhoneNumber(e)}},{key:"getPhoneNumber",value:function(){return v["default"].getPhoneNumber()}},{key:"setCityCode",value:function(e){v["default"].setCityCode(e)}},{key:"getCityCode",value:function(){return v["default"].getCityCode()}},{key:"setUserProfile",value:function(e){v["default"].setUserProfile(e)}},{key:"getUserProfile",value:function(){return v["default"].getUserProfile()}},{key:"onReady",value:function(e){var t=this;u["default"].isFunction(e)&&w.push(e),"complete"===window.document.readyState?this.excuteReadyQueue():window.document.addEventListener("readystatechange",function(){"complete"===window.document.readyState&&t.excuteReadyQueue()})}},{key:"excuteReadyQueue",value:function(){for(;w.length;)w.shift()()}}]),e}();window.mwsdk=window.mwsdk||new k,t["default"]=k},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){n(this,e)}return r(e,null,[{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isFunc",value:function(e){return this.isFunction(e)}},{key:"isObject",value:function(e){return!(!e||e.constructor!==Object)}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isArray",value:function(e){return!(!e||e.constructor!==Array)}},{key:"isNumeric",value:function(e){return(e||0===e)&&e.constructor===Number}},{key:"isElement",value:function(e){return!(!e||!this.isNumeric(e.nodeType))}},{key:"isWeixin",value:function(){return window.navigator.userAgent.match(/Micromessag/)}},{key:"isWm",value:function(){return window.navigator.userAgent.match(/magicwindow/)||window.location.href.match(/[&\?]mw=1[#&$]/)}},{key:"parseJson",value:function(e,t){return t?JSON.parse(e):new Function("return "+e)()}}]),e}();t["default"]=o},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o={},i={},a=function(){function e(){n(this,e)}return r(e,[{key:"config",value:function(t,n,r){if("undefined"!=typeof n)return e.set(t,n,r);if("string"==typeof t)return e.get(t);if("undefined"==typeof t){var i={};for(var a in o)i[a]=o[a];return i}}},{key:"constant",value:function(e,t){return"undefined"==typeof t?this.config(e):void this.config(e,t,!0)}},{key:"variable",value:function(e,t){return this.config(e,t)}}],[{key:"set",value:function(e,t,n){return"string"==typeof e?(i[e]||(o[e]=t,n===!0&&(i[e]=!0)),this.config):void 0}},{key:"get",value:function(e){return e?o[e]:void 0}}]),e}();t["default"]=new a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),u=r(a),s=n(2),c=r(s),f=n(14),l=r(f),d=new u["default"](document.location.href),p=window.navigator.userAgent,h=function(){function e(){o(this,e);var t=this.getOsInfo();this.constructor.sdkVersion="2.0",this.constructor.appKey=c["default"].constant("appKey"),this.constructor.appVersion=c["default"].constant("appVersion"),this.constructor.model="",this.constructor.os=t.platform,this.constructor.version=t.version,this.constructor.uuid=this.getCanvasFingerprint(),this.constructor.manufacturer="",this.constructor.isVirtual="",this.constructor.serial="",this.constructor.screen=window.screen.width+"x"+window.screen.height}return i(e,[{key:"isIos",value:function(){return!!p.match(/iPhone|iPad|iPod/)}},{key:"isIos9",value:function(){var e=/iPhone\s?OS\s?(\d+)_(\d*)/,t=p.match(e),n=t?new Number(t[1]+"."+t[2]):0;return n>=9}},{key:"isAndroid",value:function(){return!!p.match(/Android/)}},{key:"isWeixin",value:function(){return p.match(/[Mm]icro[Mm]essenger/)}},{key:"isWm",value:function(){var e=d.getParams();return!!p.match(/[Mm]agic[Ww]indow/)||e.mw}},{key:"getOsInfo",value:function(){var e=1,t=0,n="0.0.0",r={platform:0,version:n},o=p.match(/(iPad|iPhone)/),i=p.match(/Android/),a=/(iPad|iPhone)\s*OS\s*(\d*_\d*_?\d?)/,u=/Android\s*(\d*\.?\d*\.?\d?)/,s=/Version\/(\d*\.?\d*\.?\d?)/,c=void 0,f=p.match(a),l=p.match(u);return o?(r.platform=e,c=p.match(s),r.version=f[2]?f[2].replace(/_/g,"."):c?c[1]:n):i&&(r.platform=t,c=p.match(s),r.version=l[1]?l[1].replace("_","."):c?c[1]:n),r}},{key:"getCanvasFingerprint",value:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n="http://magicwindow.cn";return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,4,17),(0,l["default"])(e.toDataURL())}},{key:"sdkVersion",set:function(e){e&&(this.constructor.sdkVersion=e)},get:function(){return this.constructor.sdkVersion}},{key:"appKey",set:function(e){e&&(this.constructor.appKey=e)},get:function(){return this.constructor.appKey}},{key:"appVersion",set:function(e){e&&(this.constructor.appVersion=e)},get:function(){return this.constructor.appVersion}},{key:"model",set:function(e){e&&(this.constructor.model=e)},get:function(){return this.constructor.model}},{key:"os",set:function(e){e&&(this.constructor.os=e)},get:function(){return this.constructor.os}},{key:"version",set:function(e){e&&(this.constructor.version=e)},get:function(){return this.constructor.version}},{key:"uuid",set:function(e){e&&(this.constructor.uuid=e)},get:function(){return this.constructor.uuid}},{key:"manufacturer",set:function(e){e&&(this.constructor.manufacturer=e)},get:function(){return this.constructor.manufacturer}},{key:"isVirtual",set:function(e){e&&(this.constructor.isVirtual=e)},get:function(){return this.constructor.isVirtual}},{key:"serial",set:function(e){e&&(this.constructor.serial=e)},get:function(){return this.constructor.serial}},{key:"screen",set:function(e){e&&(this.constructor.screen=e)},get:function(){return this.constructor.screen}}]),e}();t["default"]=new h},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(){for(var e=0;e<b.length;e++)b[e][0](b[e][1]);b=[],C=!1}function i(e,t){b.push([e,t]),C||(C=!0,k(o,0))}function a(e,t){function n(e){c(t,e)}function r(e){l(t,e)}try{e(n,r)}catch(o){r(o)}}function u(e){var t=e.owner,n=t.state_,r=t.data_,o=e[n],i=e.then;if("function"==typeof o){n=T;try{r=o(r)}catch(a){l(i,a)}}s(i,r)||(n===T&&c(i,r),n===j&&l(i,r))}function s(e,t){var n=void 0;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===("undefined"==typeof t?"undefined":m(t)))){var r=t.then;if("function"==typeof r)return r.call(t,function(r){n||(n=!0,t!==r?c(e,r):f(e,r))},function(t){n||(n=!0,l(e,t))}),!0}}catch(o){return n||l(e,o),!0}return!1}function c(e,t){e!==t&&s(e,t)||f(e,t)}function f(e,t){e.state_===P&&(e.state_=_,e.data_=t,i(p,e))}function l(e,t){e.state_===P&&(e.state_=_,e.data_=t,i(h,e))}function d(e){var t=e.then_;e.then_=void 0;for(var n=0;n<t.length;n++)u(t[n])}function p(e){e.state_=T,d(e)}function h(e){e.state_=j,d(e)}var v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var y="undefined"!=typeof window?window:"undefined"!=typeof y?y:"undefined"!=typeof self?self:void 0,g=y.Promise,w=g&&"resolve"in g&&"reject"in g&&"all"in g&&"race"in g&&function(){var e=void 0;return new g(function(t){e=t}),"function"==typeof e}(),k="undefined"!=typeof e?e:setTimeout,b=[],C=void 0,P="pending",_="sealed",T="fulfilled",j="rejected",x=function(){},O=function(){function e(t){if(n(this,e),this.state_=P,this.then_=null,this.data_=void 0,"function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof e==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],a(t,this)}return v(e,[{key:"then",value:function(t,n){var r={owner:this,then:new e(x),fulfilled:t,rejected:n};return this.state_===T||this.state_===j?i(u,r):this.then_.push(r),r.then}},{key:"catch",value:function(e){return this.then(null,e)}}],[{key:"all",value:function(t){if(!r(t))throw new TypeError("You must pass an array to Promise.all().");return new e(function(e,n){function r(t){return a++,function(n){i[t]=n,--a||e(i)}}for(var o,i=[],a=0,u=0;u<t.length;u++)o=t[u],o&&"function"==typeof o.then?o.then(r(u),n):i[u]=o;a||e(i)})}},{key:"race",value:function(t){if(!r(t))throw new TypeError("You must pass an array to Promise.race().");return new e(function(e,n){for(var r,o=0;o<t.length;o++)r=t[o],r&&"function"==typeof r.then?r.then(e,n):e(r)})}},{key:"resolve",value:function(t){return t&&"object"===("undefined"==typeof t?"undefined":m(t))&&t.constructor===e?t:new e(function(e){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}}]),e}();t["default"]=w?y.Promise:O}).call(t,n(5).setImmediate)},function(e,t,n){(function(e,r){function o(e,t){this._id=e,this._clearFn=t}var i=n(17).nextTick,a=Function.prototype.apply,u=Array.prototype.slice,s={},c=0;t.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=c++,r=arguments.length<2?!1:u.call(arguments,1);return s[n]=!0,i(function(){s[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(t,n(5).setImmediate,n(5).clearImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=(r(a),n(4)),s=r(u),c=function(){function e(){o(this,e)}return i(e,[{key:"request",value:function(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=void 0,o=n.filter,i=n.beforeSend,a=n.success||n.callback,u=n.error,c=n.complete,f=n.timeout||1e5,l=n.url,d=n.method||n.type||"GET",p=n.dataType||"text",h=n.params||n.data,v=n.ContentType||"application/x-www-form-urlencoded";return d=d.toLowerCase(),new s["default"](function(n,s){var m=function(e){"function"==typeof a&&a(e),n(e)},y=function(e){"function"==typeof u&&u(e),s(e)};p&&"jsonp"===p.toLowerCase()?(l+=(-1===l.indexOf("?")?"?":"&")+t.seriesParams(h,o),t.loadJsonp(l,m,y,f)):(r=e.create(),"post"===d?h="application/json"===v?JSON.stringify(h):t.seriesParams(h,o):(l+=(-1===l.indexOf("?")?"?":"&")+t.seriesParams(h,o),h=null),r.open(d,l,!0),r.setRequestHeader("Method",d.toUpperCase()+" "+l+" HTTP/1.1"),r.setRequestHeader("Content-type",v),r.onreadystatechange=function(){t.onReadyStatusChange(r,p,m,c,y)},("function"!=typeof i||i.call(r)!==!1)&&r.send(h))})}},{key:"onReadyStatusChange",value:function(e,t,n,r,o){if(4===e.readyState)if("function"==typeof r&&r.call(null),200===e.status){var i=e.responseText;if("JSON"===t.toUpperCase())try{var a=new Function("return "+i)();a&&"function"==typeof n&&n(a)}catch(u){}else"function"==typeof n&&n(i)}else o("Error code:"+e.status,e)}},{key:"seriesParams",value:function(e,t){var n=[],r=void 0;if(e)for(var o in e)r=e[o],n.push(o+"="+("function"==typeof t?t.call(null,r):escape(r)));return n.join("&")}},{key:"loadJsonp",value:function(e,t,n,r){var o="ajax_cb_"+(new Date).getTime()+"_"+Math.floor(500*Math.random()),i=document.createElement("script");e+=(-1===e.indexOf("?")?"?":"&")+"callback="+o,window[o]=function(e){"function"==typeof t&&t(e),delete window[o],document.head.removeChild(i)},r>0&&setTimeout(function(){window[o]&&"function"==typeof n&&n()},r),document.head.appendChild(i),i.src=e}},{key:"fetch",value:function(e,t,n,r){return this.isFunction(t)&&(r=r||n,n=t,t=void 0),this.http({url:e,method:"GET",dataType:r,data:t,success:n})}},{key:"post",value:function(e,t,n,r){return this.isFunction(t)&&(r=r||n,n=t,t=void 0),this.http({url:e,method:"POST",dataType:r,data:t,success:n})}}],[{key:"create",value:function(){var e;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(r){console.log(r)}}}return e}}]),e}();t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2);r(o);t["default"]={marketing:"/marketing/v2",deeplinks:"/dp/dpls",getDeeplinks:"/dp/getDPL",deeplinkEvent:"/dp/event"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=(r(a),function(){function e(t){o(this,e);var n=t.match(/(\w+):\/\/([^:\/\?]*):?(\d*)([^\?]*)\??([^#$]*)#?([^#]*)/)||[];this.scheme=n[1]||"",this.protocol=n[1]||"",this.domain=n[2]||"",this.host=n[2]||"",this.port=n[3]||"",this.path=n[4]||"",this.queryString=n[5]||"",this.search=n[5]||"",this.hash=n[6]||""}return i(e,[{key:"getParams",value:function(){var e=this.queryString.split("&"),t={};return e.forEach(function(e){var n=e.split("=");t[n[0]]=n[1]}),t}},{key:"getParam",value:function(e){return this.getParams()[e]}}]),e}());t["default"]=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){n(this,e)}return r(e,null,[{key:"getCookie",value:function(e){var t=new RegExp("(^|;)[ ]*"+e+"=([^;]*)"),n=t.exec(document.cookie);return n?decodeURIComponent(n[2]):null}},{key:"setCookie",value:function(e,t,n,r,o,i){var a;n&&(a=new Date,a.setTime(a.getTime()+n)),document.cookie=e+"="+encodeURIComponent(t)+(n?";expires="+a.toGMTString():"")+";path="+(r||"/")+(o?";domain="+o:"")+(i?";secure":"")}}]),e}();t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),u=r(a),s=n(6),c=r(s),f=n(4),l=(r(f),n(3)),d=r(l),p=n(7),h=r(p),v=function(){function e(){o(this,e)}return i(e,[{key:"getParams",value:function(){return{ak:d["default"].appKey||u["default"].constant("appkey"),os:d["default"].os,sv:d["default"].sdkVersion,d:d["default"].uuid,sr:d["default"].screen,av:d["default"].appVersion||u["default"].constant("av"),fp:d["default"].getCanvasFingerprint()}}},{key:"applyParams",value:function(e,t){if(e)for(var n in t)e=e.replace("{"+n.toUpperCase()+"}",t[n]);return e=e.replace(/\{(\w)*\}/g,"")}},{key:"getServer",value:function(){return u["default"].constant("server").replace(/\/$/,"")}},{key:"load",value:function(e){return"undefined"!=typeof e?this.loadCallback(e):this.loadPromise()}},{key:"loadCallback",value:function(e){var t=this.getParams(),n=this.getServer()+h["default"].marketing,r=new c["default"];return r.request({url:n,type:"get",dataType:"json",params:t,success:e,error:function(e){console.log(e)}})}},{key:"loadPromise",value:function(){var e=this.getParams(),t=this.getServer()+h["default"].marketing,n=new c["default"];return n.request({url:t,type:"get",dataType:"json",params:e})}}]),e}();t["default"]=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),u=r(a),s=n(8),c=r(s),f=n(4),l=r(f),d=n(1),p=(r(d),n(2)),h=r(p),v=n(3),m=r(v),y=n(7),g=r(y),w=void 0,k=void 0,b=function(){function e(){o(this,e)}return i(e,[{key:"getRealUrl",value:function(e,t){if(!e)return"";t||(t={});var n=new c["default"](e),r=n.scheme,o=n.host,i=n.path,a=n.queryString,u=n.hash,s=[];return s.push(r),s.push("://"),s.push(o),i=this.replacePathParams(i,t),s.push(i),a=this.replaceQueryParams(a,t),s.push(a),u=this.replacePathParams(u,t),s.push("#"+u),s.join("")}},{key:"replacePathParams",value:function(e,t){var n=[],r=/^:/;return e="string"==typeof e?e.split("/"):e,e.forEach(function(e){e.match(r)?n.push(t[e.replace(r,"")]||""):n.push(e)}),n.join("/")}},{key:"replaceQueryParams",value:function(e,t){var n=e.split("&"),r=/^:/,o=[];return n.length>0&&n.forEach(function(e){e=e.split("=");var n=e[0],i=e[1];i&&i.match(r)&&(i=t[i.replace(r,"")]||""),o.push([n,i].join("="))}),o.length>0?"?"+o.join("&"):""}},{key:"openDownloadUrl",value:function(e){var t=this;setTimeout(function(){var n;n="undefined"!=typeof document.hidden?document.hidden:"undefined"!=typeof document.mozHidden?document.mozHidden:"undefined"!=typeof document.msHidden?document.msHidden:"undefined"!=typeof document.webkitHidden?document.webkitHidden:!1,t.sendDplEvent(e),n===!1&&(window.location.href=e)},1500)}},{key:"redirect",value:function(e,t,n){var r=t.ak,o="http://fir.im/mwshowios",i="http://fir.im/mwshowandroid",a="mwshow://campaign/"+r,u=a,s="https://s.mlinks.cc/AAAc?key="+r;this.getRealUrl(e,n);if(m["default"].isWeixin()){var f=document.createElement("div");f.id="mw-download-tips";var l=s;!m["default"].isIos9()||"http"!==l&&"https"!==l?m["default"].isAndroid()?(f.classList.add("android"),f.classList.remove("ios")):isIos()&&(f.classList.add("ios"),f.classList.remove("android")):window.location.href=s}else if(m["default"].isIos()){var l=new c["default"](s).scheme;!m["default"].isIos9()||"http"!==l&&"https"!==l?(window.location.href=a,this.openDownloadUrl(o)):window.location.href=s}else window.location.href=u,this.openDownloadUrl(i)}},{key:"loadDPLs",value:function(){if(w)return new l["default"](function(e){e(w)});if(k)return k;var e=h["default"].constant("server").replace(/\/$/,"")+g["default"].deeplinks,t=new u["default"],n={ak:h["default"].constant("appkey")||h["default"].constant("ak"),av:h["default"].constant("appVersion")||h["default"].constant("av"),sv:m["default"].sdkVersion,uid:m["default"].uuid,fp:m["default"].getCanvasFingerprint(),d:m["default"].getCanvasFingerprint(),os:m["default"].os,osv:m["default"].version,m:m["default"].model,mf:m["default"].manufacturer,sr:m["default"].screen};return k=t.request({url:e,type:"POST",dataType:"json",ContentType:"application/json",params:n}).then(function(e){w=e.data,k=null},function(){k=null})}},{key:"getDPLs",value:function(){if(w)return new l["default"](function(e){e(w)});if(k)return k;var e=h["default"].constant("server").replace(/\/$/,"")+g["default"].getDeeplinks,t=new u["default"],n={ak:h["default"].constant("appkey")||h["default"].constant("ak"),av:h["default"].constant("appVersion")||h["default"].constant("av"),sv:m["default"].sdkVersion,uid:m["default"].uuid,fp:m["default"].getCanvasFingerprint(),d:m["default"].getCanvasFingerprint(),os:m["default"].os,osv:m["default"].version,m:m["default"].model,mf:m["default"].manufacturer,sr:m["default"].screen};return k=t.request({url:e,type:"POST",dataType:"json",ContentType:"application/json",params:n}).then(function(e){w=e.data,k=null},function(){k=null})}},{key:"sendDplEvent",value:function(e,t){var n=h["default"].constant("server").replace(/\/$/,"")+g["default"].deeplinkEvent,r=new u["default"],o={ak:h["default"].constant("appkey")||h["default"].constant("ak"),av:h["default"].constant("appVersion")||h["default"].constant("av"),sv:m["default"].sdkVersion,uid:m["default"].uuid,dp:t,ack:e.ack,dt:e,fp:m["default"].getCanvasFingerprint(),d:m["default"].getCanvasFingerprint(),os:m["default"].os,osv:m["default"].version,m:m["default"].model,mf:m["default"].manufacturer,sr:m["default"].screen};r.request({url:n,type:"POST",dataType:"json",ContentType:"application/json",params:o})}}]),e}();t["default"]=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),u=r(a),s=function(){function e(){o(this,e)}return i(e,null,[{key:"setPhoneNumber",value:function(e){u["default"].setCookie("phoneNumber",e)}},{key:"getPhoneNumber",value:function(){return u["default"].getCookie("phoneNumber")}},{key:"setCityCode",value:function(e){u["default"].setCookie("cityCode",e)}},{key:"getCityCode",value:function(){return u["default"].getCookie("cityCode")}},{key:"setUserProfile",value:function(e){u["default"].setCookie("userProfile",e)}},{key:"getUserProfile",value:function(){return u["default"].getCookie("userProfile")}}]),e}();t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),u=r(a),s=n(1),c=r(s),f=void 0,l=new u["default"],d=function(){function e(t){o(this,e),f=t,this.watch(),l.loadDPLs()}return i(e,[{key:"watch",value:function(){var e=this;f&&f.length>0&&f.forEach(function(t){for(var n,r=e.getMwBlocks(t.k),o=0,i=r.length;i>o;o++)n=r[o],n.getAttribute("render")||e.render(t,n)}),setTimeout(function(){e.watch()},1e3)}},{key:"getMwBlocks",value:function(e){for(var t=document.getElementsByTagName("mw-block"),n=[],r=0,o=t.length;o>r;r++)t[r].getAttribute("id")===e&&n.push(t[r]);return n}},{key:"render",value:function(e,t){t.setAttribute("data-au",e.au),t.innerHTML='<img src="'+e.iu+'" style="max-width:100%;"/>',this.initMwBlockEvent(e,t),t.setAttribute("render",!0)}},{key:"initMwBlockEvent",value:function(e,t){var n=this;t.getAttribute("render")||t.addEventListener("click",function(){var r=decodeURIComponent(t.getAttribute("data-au"));if(n.showLoading(t),4===Number(e.dt)){var o=c["default"].parseJson(t.getAttribute("data-mlink-params"));l.redirect(r,e,o)}else window.location=r.replace(/([&\?])?mw=1[&$]?/g,"$1")})}},{key:"showLoading",value:function(e){var t=document.createElement("div"),n=document.createElement("div");t.classList.add("mw-loading"),t.addEventListener("click",function(r){r.stopPropagation(),t.removeChild(n),e.removeChild(t),t=null,n=null,e=null}),e.appendChild(t),n.classList.add("mw-loading-icon"),t.appendChild(n)}}]),e}();t["default"]=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e){var t,n,r="";for(t=7;t>=0;t--)n=e>>>4*t&15,r+=n.toString(16);return r}var r=void 0,o=void 0,i=void 0,a=[],u=1732584193,s=4023233417,c=2562383102,f=271733878,l=3285377520,d=void 0,p=void 0,h=void 0,v=void 0,m=void 0,y=void 0,g=void 0,w=[];for(e=encodeURIComponent(e),g=e.length,o=0;g-3>o;o+=4)i=e.charCodeAt(o)<<24|e.charCodeAt(o+1)<<16|e.charCodeAt(o+2)<<8|e.charCodeAt(o+3),w.push(i);switch(3&g){case 0:o=2147483648;break;case 1:o=e.charCodeAt(g-1)<<24|8388608;break;case 2:o=e.charCodeAt(g-2)<<24|e.charCodeAt(g-1)<<16|32768;break;case 3:o=e.charCodeAt(g-3)<<24|e.charCodeAt(g-2)<<16|e.charCodeAt(g-1)<<8|128}for(w.push(o);14!==(15&w.length);)w.push(0);for(w.push(g>>>29),w.push(g<<3&4294967295),r=0;r<w.length;r+=16){for(o=0;16>o;o++)a[o]=w[r+o];for(o=16;79>=o;o++)a[o]=t(a[o-3]^a[o-8]^a[o-14]^a[o-16],1);for(d=u,p=s,h=c,v=f,m=l,o=0;19>=o;o++)y=t(d,5)+(p&h|~p&v)+m+a[o]+1518500249&4294967295,m=v,v=h,h=t(p,30),p=d,d=y;for(o=20;39>=o;o++)y=t(d,5)+(p^h^v)+m+a[o]+1859775393&4294967295,m=v,v=h,h=t(p,30),p=d,d=y;for(o=40;59>=o;o++)y=t(d,5)+(p&h|p&v|h&v)+m+a[o]+2400959708&4294967295,m=v,v=h,h=t(p,30),p=d,d=y;for(o=60;79>=o;o++)y=t(d,5)+(p^h^v)+m+a[o]+3395469782&4294967295,m=v,v=h,h=t(p,30),p=d,d=y;u=u+d&4294967295,s=s+p&4294967295,c=c+h&4294967295,f=f+v&4294967295,l=l+m&4294967295}return y=n(u)+n(s)+n(c)+n(f)+n(l),y.toLowerCase()}},function(e,t,n){t=e.exports=n(16)(),t.push([e.id,'@-webkit-keyframes mw-kfr-loading{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes mw-kfr-loading{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}mw-block{display:block;position:relative}.mw-loading{top:0;left:0;right:0;bottom:0;z-index:10;background-color:rgba(0,0,0,.5)}.mw-loading,.mw-loading-icon{display:block;position:absolute}.mw-loading-icon{height:48px;width:48px;z-index:100000000000;top:50%;left:50%;margin:-24px auto auto -24px;border:3px solid hsla(0,0%,100%,0);border-top:3px solid hsla(0,0%,100%,.8);border-left:2px dotted hsla(0,0%,100%,.6);border-bottom:1px dashed hsla(0,0%,100%,.2);border-radius:50%;box-shadow:0 0 15px #000;-webkit-animation:mw-kfr-loading .8s linear infinite;animation:mw-kfr-loading .8s linear infinite}#mw-download-tips{display:none;position:fixed;z-index:9990;width:100%;height:100%;top:0;left:0;right:0;background-color:rgba(0,0,0,.8);background-repeat:no-repeat;background-position:100% 0;background-size:85% auto}#mw-download-tips.android{display:block;background-image:url("http://activity.test.magicwindow.cn/common/asserts/navigator-modal/bg-android.png")}#mw-download-tips.ios{display:block;background-image:url("http://activity.test.magicwindow.cn/common/asserts/navigator-modal/bg-ios.png")}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){function n(){c=!1,a.length?s=a.concat(s):f=-1,s.length&&r()}function r(){if(!c){var e=setTimeout(n);c=!0;for(var t=s.length;t;){for(a=s,s=[];++f<t;)a&&a[f].run();f=-1,t=s.length}a=null,c=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var a,u=e.exports={},s=[],c=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new o(e,t)),1!==s.length||c||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=p[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],u=o[2],s=o[3],c={css:a,media:u,sourceMap:s};n[i]?n[i].parts.push(c):t.push(n[i]={id:i,parts:[c]})}return t}function i(e,t){var n=m(),r=w[w.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),w.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=w.indexOf(e);t>=0&&w.splice(t,1)}function u(e){
var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function c(e,t){var n,r,o;if(t.singleton){var i=g++;n=y||(y=u(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=d.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(t),r=l.bind(null,n),o=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function f(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=k(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function l(e,t){var n=t.css,r=t.media;t.sourceMap;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,r=(t.media,t.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var p={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,g=0,w=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=v()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return r(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var u=n[a],s=p[u.id];s.refs--,i.push(s)}if(e){var c=o(e);r(c,t)}for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var f=0;f<s.parts.length;f++)s.parts[f]();delete p[s.id]}}}};var k=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var r=n(15);"string"==typeof r&&(r=[[e.id,r,""]]);n(18)(r,{});r.locals&&(e.exports=r.locals)}]);