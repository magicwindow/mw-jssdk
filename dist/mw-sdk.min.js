/* 
 mw-sdk v1.0.4
 2015-08-24
 Copyright 2015, magicwindow.cn
 */
!function(a){var b=a.mw=a.mw||{};b.namespace=function(a){for(var b=a.split("."),c=window,d="",e=0,f=b.length;f>e;e++)d=b[e],c[d]=c[d]||{},c=c[d]},b.extend=function(){var a,c=Array.prototype.slice.call(arguments,0),d=c[0]&&"boolean"==typeof c[0];d&&c.shift(),a=c.shift();for(var e=0,f=c.length;f>e;e++)for(var g in c[e])d&&b.isObject(c[e][g])?a[g]=b.extend(d,{},a[g],c[e][g]):d&&b.isArray(c[e][g])?a[g]=b.extend(d,{},a[g],c[e][g]):a[g]=c[e][g];return a},b.extend(b,{isFunction:function(a){return"function"==typeof a},isFunc:function(a){return this.isFunction(a)},isObject:function(a){return!(!a||a.constructor!==Object)},isString:function(a){return"string"==typeof a},isArray:function(a){return!(!a||a.constructor!==Array)},isNumeric:function(a){return(a||0===a)&&a.constructor===Number},isElement:function(a){return!(!a||!b.isNumeric(a.nodeType))}}),b.extend(b,{ajax:function(a){var c,d,e,f=b.ajax.create(),g=this,h=0,i=a.filter,j=a.beforeSend,k=a.success||a.callback,l=a.error,m=a.complete,n=a.tries,o=a.target,p=a.timeout||1e5,q=a.url,r=a.method||a.type||"GET",s=a.xtra,t=a.dataType||"text",u=a.params||a.data;if(r=r.toLowerCase(),u){if("object"==typeof u){c=[];for(d in u)e=u[d],c.push(d+"="+("function"==typeof i?i.call(null,e):escape(e)));u=c.join("&")}"get"===r&&(q+=-1===q.indexOf("?")?"?"+u:"&"+u)}if(t&&"jsonp"===t.toLowerCase()){var v="ajax_cb_"+(new Date).getTime()+"_"+Math.floor(500*Math.random()),w=document.createElement("script");return q+=(-1===q.indexOf("?")?"?":"&")+"callback="+v,window[v]=function(a){"function"==typeof k&&k(a),delete window[v],document.head.removeChild(w)},p>0&&setTimeout(function(){window[v]},p),document.head.appendChild(w),void(w.src=q)}return f.open(r,q,!0),"post"===r?(f.setRequestHeader("Method","POST "+q+" HTTP/1.1"),f.setRequestHeader("Content-type","application/x-www-form-urlencoded")):u=null,f.onreadystatechange=function(){if(4===f.readyState)if("function"==typeof m&&m.call(null),200===f.status){if("JSON"===t.toUpperCase()){var a=f.responseText;try{var c=new Function("return "+a)();c&&"function"==typeof k&&k.call(null,c,f,s)}catch(d){b.isFunction(l)}return}o&&f.getResponseHeader("content-type").match(/(html|plain)/)&&g.parseHTML(o,f.responseText),"function"==typeof k&&k.call(null,!0,f,s)}else n>0?n>h&&(h++,f.abort(),f.send(u)):"function"==typeof l&&l.call(null,!1,f,s)},("function"!=typeof j||j.call(f)!==!1)&&f.send(u),f},get:function(a,b,c,d){return this.isFunction(b)&&(d=d||c,c=b,b=void 0),this.ajax({url:a,method:"GET",dataType:d,data:b,success:c})},post:function(a,b,c,d){return this.isFunction(b)&&(d=d||c,c=b,b=void 0),this.ajax({url:a,method:"POST",dataType:d,data:b,success:c})}}),b.ajax.create=function(){var a;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){console.log(d)}}}return a};var c={},d={};b.namespace("mw.sdk"),b.extend(b,{config:function(a,d,e){return"undefined"!=typeof d?b.config.set(a,d,e):"string"==typeof a?b.config.get(a):"undefined"==typeof a?b.extend({},c):void 0},constant:function(a,c){return"undefined"==typeof c?b.config(a):void b.config(a,c,!0)},"var":function(a,c){return b.config(a,c)}}),b.config.set=function(a,e,f){return"string"==typeof a?(d[a]||(c[a]=e,f===!0&&(d[a]=!0)),b.config):void 0},b.config.get=function(a){return a?c[a]:void 0};var e=b.sdk;e.connect=function(a){},e.initialized=!1,e.init=function(a){var c={server:"sdk.magicwindow.cn",appkey:"com.webapp.com"},d=b.extend(c,a);for(var f in d)e.config(f,d[f])},e.onReady=function(a){}}(this);